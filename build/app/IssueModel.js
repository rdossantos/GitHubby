define("IssueModel",["backbone","underscore","marked","highlightjs"],function(e,t,n,r){var i=e.Model.extend({url:function(){return"https://api.github.com/repos/rails/rails/issues/"+this.get("number")},parse:function(e){return e.bodySummary=t.prune(e.body,140),e.bodyHighlighted=this.highlightSyntax(e.body),e.createdDate=new Date(e.created_at),t.each(e.labels,function(e){e.contrastColor=this.getContrastColor(e.color)},this),e},highlightSyntax:function(e){var i=$('<div id="highlight-wrapper">'+n(e)+"</div>"),s=i.find("pre > code");return t.each(s,function(e){var t=r.highlightAuto($(e).html()).value;i.find("pre > code").first().replaceWith(t)}),i.html()},getContrastColor:function(e){return parseInt(e,16)>8388607.5?"000":"fff"}});return i});